response = Map();
msg = message.get("text");
if(operation.equals("chat"))
{
	if(!msg.equalsIgnoreCase("Book appointments") && !msg.equalsIgnoreCase("Health insurance") && !msg.equalsIgnoreCase("Vaccination details") && !msg.equalsIgnoreCase("Personal assistance") && !msg.equalsIgnoreCase("Covid-19 guide") && !msg.equalsIgnoreCase("Biling and Payments"))
	{
		response = Map();
		response.put("action","reply");
		response.put("replies",{"Hello there! ðŸ‘‹ How can i help you today?"});
		response.put("suggestions",{"Book appointments","Health insurance","Vaccination details","Personal assistance","Covid-19 guide","Biling and Payments","No Thanks!","Can't find what I'm looking for"});
		return response;
	}
}
if(msg.equalsIgnoreCase("Book appointments"))
{
	response.put("action","context");
	response.put("context_id","booking");
	question1 = {"name":"name","replies":{"Great ! I just need a few more details to schedule a call",{"text":"What's your name?"}}};
	question2 = {"name":"contact","replies":{{"text":"Can I have your contact number ? Our representative will call you on this number.","validate":{"format":"phoneno","error":{"Enter a valid phone number"}},"field_name":"siq_phone"}}};
	question3 = {"name":"age","replies":{{"text":"Thanks.Can I know your age ?"}}};
	question4 = {"name":"gender","replies":{{"text":"Can I know your gender ?"}},"input":{"type":"select","options":{"Male","Female","Choose not to specify"}}};
	question7 = {"name":"doctor","replies":{{"text":"Can I know with which doctor you would like to fix an appointment?"}}};
	question8 = {"name":"mode","replies":{{"text":"Can I know which mode you prefer for the appointment?"}},"input":{"type":"select","options":{"Virtual","Physical"}}};
	question6 = {"name":"email","replies":{{"text":"Can I have your email address so that we can reach you in case the chat gets disconnected","field_name":"siq_email","validate":{"format":"email","error":{"Enter a valid email"}}}}};
	question5 = {"name":"illness","replies":{{"text":"Letâ€™s get you started right away. Hereâ€™s a list of ailments. Choose the one you are undergoing through."}},"input":{"type":"select","options":{"Fever","Body pain","Child Care","Maternal checkup","Regular Checkup","Outpatient care","Others"}}};
	question9 = {"name":"schedule","replies":{"Great! Our representative will call you. Would you like to pick a time slot for your appointment?"},"input":{"type":"select","options":{"Yeah","anytime"}}};
	questions = Collection();
	questions.insert(question1);
	questions.insert(question2);
	questions.insert(question3);
	questions.insert(question4);
	questions.insert(question7);
	questions.insert(question8);
	questions.insert(question6);
	questions.insert(question5);
	questions.insert(question9);
	response.put("questions",questions);
}
else
{
	response = Map();
	response.put("action","reply");
	response.put("replies",{"Is there anything else I can help you with?"});
	response.put("suggestions",{"Book appointments","Health insurance","Vaccination details","Personal assistance","Covid-19 guide","Biling and Payments","No Thanks!","Can't find what I'm looking for"});
	return response;
}
return response;
